extends ../layout
block content
    include ../directorHead
    .container
        ul.breadcrumb
            li: a(href="/director/profile") Inicio
            li: a(href="/postgrado/#{postgrado.id}") Postgrado
            li: a(href="/cohorte/#{cohorte.id}") Cohorte
            li.active Informacion del estudiante

        .row
            .margin-auto
                p.lead.text-center
                    strong Informacion del Estudiante
                    br
                    span.text-primary &nbsp; #{postgrado.nombre} -
                    strong.text-primary &nbsp; #{programa.nombre}
                h5.text-center
                    a(href="/cohorte/#{estudiante.cohorte}").btn.btn-default.btn-xs
                        i.fa.fa-chevron-circle-left
                        | &nbsp; Volver a la cohorte
            .margin-botton



            .col-lg-6
                .panel.panel-default
                    .panel-heading
                        h5
                            i.fa.fa-user
                            |&nbsp; Datos personales del estudiante
                    .panel-body
                        form(method="POST", action="/estudiante/#{estudiante.id}").form-horizontal
                            input(type="hidden", name="_method", value="PUT")
                            input(type="hidden", name="eid", value="#{estudiante.id}")
                            fieldset
                                .form-group
                                    label(for="inputNombre", class="col-lg-2 control-label") Nombres
                                    .col-lg-10

                                        .input-group
                                            span.input-group-addon
                                                i.fa.fa-user
                                            input(type="text", name="nombres", value="#{datos.nombres}", required).form-control
                                        p.lead.text-muted Nombre del estudiante
                                .form-group
                                    label(for="inputApellido", class="col-lg-2 control-label") Apellidos
                                    .col-lg-10

                                        .input-group
                                            span.input-group-addon
                                                i.fa.fa-user
                                            input(type="text", name="apellidos", value="#{datos.apellidos}", required).form-control
                                        p.lead.text-muted Apellidos del estudiante
                                .form-group
                                    label(for="inputidentidad", class="col-lg-2 control-label") Documento
                                    .col-lg-10

                                        .input-group
                                            span.input-group-addon
                                                i.fa.fa-bookmark
                                            input(type="text", name="documento", value="#{datos.documento}", required).form-control
                                        p.lead.text-muted Numero de identificacion del estudiante
                                .form-group
                                    label(for="inputidentidad", class="col-lg-2 control-label") Tipo documento
                                    .col-lg-10

                                        .input-group
                                            span.input-group-addon
                                                i.fa.fa-bookmark
                                            select(name="tipodoc").form-control
                                                case datos.tipo_documento
                                                    when 'Cedula de ciudadania'
                                                        option(value="Cedula de ciudadania", selected="true") Cedula de ciudadania
                                                        option(value="Pasaporte") Pasaporte
                                                        option(value="Cedula de Extranjeria") Cedula de Extranjeria
                                                    when 'Pasaporte'
                                                        option(value="Cedula de ciudadania") Cedula de ciudadania
                                                        option(value="Pasaporte", selected="true") Pasaporte
                                                        option(value="Cedula de Extranjeria") Cedula de Extranjeria
                                                    when 'Cedula de Extranjeria'
                                                        option(value="Cedula de ciudadania") Cedula de ciudadania
                                                        option(value="Pasaporte") Pasaporte
                                                        option(value="Cedula de Extranjeria", selected="true") Cedula de Extranjeria

                                        p.lead.text-muted tipo de documento
                                .form-group
                                    label(for="inputidentidad", class="col-lg-2 control-label") Email
                                    .col-lg-10

                                        .input-group
                                            span.input-group-addon
                                                i.fa.fa-send-o
                                            input(type="email", name="email", value="#{datos.email}", required).form-control
                                        p.lead.text-muted Correo electronico de contacto del estudiante
                                .form-group
                                    label(for="inputidentidad", class="col-lg-2 control-label") Telefono
                                    .col-lg-10

                                        .input-group
                                            span.input-group-addon
                                                i.fa.fa-phone
                                            input(type="number", name="telefono", value="#{datos.telefono}", required).form-control
                                        p.lead.text-muted Numero telefonico de contacto



                                .form-group
                                        h5.text-center
                                            button(type=submit).btn.btn-primary
                                                i.fa.fa-save
                                                | &nbsp; Guardar

            .col-lg-6
                .panel.panel-default
                    .panel-heading
                        h5
                            i.fa.fa-user
                            |&nbsp; Datos Academicos del estudiante
                    .panel-body
                        .form-horizontal
                            faildset
                                .form-group
                                    label(for="nombre", class="col-lg-2 control-label") Cohorte
                                    .col-lg-10
                                        h4.text-primary #{cohorte.nombre}
                                .form-group
                                    label(for="nombre", class="col-lg-2 control-label") Codigo
                                    .col-lg-10
                                        p.lead #{estudiante.codigo}
                                .form-group
                                    label(for="nombre", class="col-lg-2 control-label") Modalidad
                                    .col-lg-10
                                        h4.label.label-warning.text-size-14 #{estudiante.modalidad}

                                legend
                                .margin-botton
                                h4.pull-right
                                    a(href="/estudiante/proofPayment/#{estudiante.id}").btn.btn-default.btn-xs
                                        i.fa.fa-plus
                                        | &nbsp; Registrar Pago
                                p.lead.text-muted Datos financieros del estudiante
                                table.table.table-hover.table-striped
                                    thead
                                        tr
                                            th(width="25%"): p.text-center Fecha
                                            th(width="45%"): p Concepto de pago
                                            th(width="30%"): P.text-center Valor
                                    tbody
                                        each datafinanciera in datafinancieras
                                            tr
                                                td(width="25%").text-center
                                                    span.label.label-info.text-size-10
                                                        i.fa.fa-calendar
                                                        | &nbsp; #{datafinanciera.fecha_pago.toISOString().slice(0, 10)}
                                                td(width="45%")
                                                    span #{datafinanciera.concepto}
                                                td(width="30%").text-center
                                                    strong $ #{datafinanciera.valor}


                                .margin-botton
                                legend
                                .margin-botton
                                h4.pull-right
                                    a(href="/asignatura/#{estudiante.id}/elective").btn.btn-default.btn-xs
                                        i.fa.fa-plus
                                        | &nbsp; Matricular Electiva
                                p.lead.text-muted Materias del estudiante

                                table.table.table-hover.table-striped
                                    thead
                                        tr

                                            th(width="45%"): p Materia
                                            th(width="25%"): p.text-center Semestre
                                            th(width="15%"): P.text-center Creditos
                                            th(width="15%"): p.text-center Nota
                                    tbody
                                        .scroll-list
                                            each  asignatura in asignaturas
                                                tr

                                                    td(width="45%")
                                                        span.text-primary #{asignatura.nombre}
                                                        br
                                                        -if (asignatura.electiva == true){
                                                            span.label.label-default Electiva
                                                            -if (asignatura.nota == null){
                                                                a(href="/asignatura/remove/#{asignatura.id}/#{estudiante.id}").btn.btn-danger.btn-xs.margin-left-1 Cancelar
                                                            -}
                                                        -}
                                                    td(width="25%"): p.text-center
                                                        span #{asignatura.nivel}
                                                    td(width="15%"): p.text-center
                                                        span.text-muted #{asignatura.credito}
                                                    td(width="15%")
                                                        -if (asignatura.nota == null){
                                                            p.text-center: strong -
                                                        -}else{
                                                            p.text-center: strong #{asignatura.nota}
                                                        -}

